<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Pigpen Translation Tool.">
<meta name="author" content="Johan Ahlen, revised by Landon Blevins">

<title>Pigpen Translator</title>

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<script async>/*! lazysizes - v5.1.0 */
!function(a,b){var c=b(a,a.document);a.lazySizes=c,"object"==typeof module&&module.exports&&(module.exports=c)}("undefined"!=typeof window?window:{},function(a,b){"use strict";var c,d;if(function(){var b,c={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};d=a.lazySizesConfig||a.lazysizesConfig||{};for(b in c)b in d||(d[b]=c[b])}(),!b||!b.getElementsByClassName)return{init:function(){},cfg:d,noSupport:!0};var e=b.documentElement,f=a.Date,g=a.HTMLPictureElement,h="addEventListener",i="getAttribute",j=a[h],k=a.setTimeout,l=a.requestAnimationFrame||k,m=a.requestIdleCallback,n=/^picture$/i,o=["load","error","lazyincluded","_lazyloaded"],p={},q=Array.prototype.forEach,r=function(a,b){return p[b]||(p[b]=new RegExp("(\\s|^)"+b+"(\\s|$)")),p[b].test(a[i]("class")||"")&&p[b]},s=function(a,b){r(a,b)||a.setAttribute("class",(a[i]("class")||"").trim()+" "+b)},t=function(a,b){var c;(c=r(a,b))&&a.setAttribute("class",(a[i]("class")||"").replace(c," "))},u=function(a,b,c){var d=c?h:"removeEventListener";c&&u(a,b),o.forEach(function(c){a[d](c,b)})},v=function(a,d,e,f,g){var h=b.createEvent("Event");return e||(e={}),e.instance=c,h.initEvent(d,!f,!g),h.detail=e,a.dispatchEvent(h),h},w=function(b,c){var e;!g&&(e=a.picturefill||d.pf)?(c&&c.src&&!b[i]("srcset")&&b.setAttribute("srcset",c.src),e({reevaluate:!0,elements:[b]})):c&&c.src&&(b.src=c.src)},x=function(a,b){return(getComputedStyle(a,null)||{})[b]},y=function(a,b,c){for(c=c||a.offsetWidth;c<d.minSize&&b&&!a._lazysizesWidth;)c=b.offsetWidth,b=b.parentNode;return c},z=function(){var a,c,d=[],e=[],f=d,g=function(){var b=f;for(f=d.length?e:d,a=!0,c=!1;b.length;)b.shift()();a=!1},h=function(d,e){a&&!e?d.apply(this,arguments):(f.push(d),c||(c=!0,(b.hidden?k:l)(g)))};return h._lsFlush=g,h}(),A=function(a,b){return b?function(){z(a)}:function(){var b=this,c=arguments;z(function(){a.apply(b,c)})}},B=function(a){var b,c=0,e=d.throttleDelay,g=d.ricTimeout,h=function(){b=!1,c=f.now(),a()},i=m&&g>49?function(){m(h,{timeout:g}),g!==d.ricTimeout&&(g=d.ricTimeout)}:A(function(){k(h)},!0);return function(a){var d;(a=!0===a)&&(g=33),b||(b=!0,d=e-(f.now()-c),d<0&&(d=0),a||d<9?i():k(i,d))}},C=function(a){var b,c,d=99,e=function(){b=null,a()},g=function(){var a=f.now()-c;a<d?k(g,d-a):(m||e)(e)};return function(){c=f.now(),b||(b=k(g,d))}},D=function(){var g,l,m,o,p,y,D,F,G,H,I,J,K=/^img$/i,L=/^iframe$/i,M="onscroll"in a&&!/(gle|ing)bot/.test(navigator.userAgent),N=0,O=0,P=0,Q=-1,R=function(a){P--,(!a||P<0||!a.target)&&(P=0)},S=function(a){return null==J&&(J="hidden"==x(b.body,"visibility")),J||"hidden"!=x(a.parentNode,"visibility")&&"hidden"!=x(a,"visibility")},T=function(a,c){var d,f=a,g=S(a);for(F-=c,I+=c,G-=c,H+=c;g&&(f=f.offsetParent)&&f!=b.body&&f!=e;)(g=(x(f,"opacity")||1)>0)&&"visible"!=x(f,"overflow")&&(d=f.getBoundingClientRect(),g=H>d.left&&G<d.right&&I>d.top-1&&F<d.bottom+1);return g},U=function(){var a,f,h,j,k,m,n,p,q,r,s,t,u=c.elements;if((o=d.loadMode)&&P<8&&(a=u.length)){for(f=0,Q++;f<a;f++)if(u[f]&&!u[f]._lazyRace)if(!M||c.prematureUnveil&&c.prematureUnveil(u[f]))aa(u[f]);else if((p=u[f][i]("data-expand"))&&(m=1*p)||(m=O),r||(r=!d.expand||d.expand<1?e.clientHeight>500&&e.clientWidth>500?500:370:d.expand,c._defEx=r,s=r*d.expFactor,t=d.hFac,J=null,O<s&&P<1&&Q>2&&o>2&&!b.hidden?(O=s,Q=0):O=o>1&&Q>1&&P<6?r:N),q!==m&&(y=innerWidth+m*t,D=innerHeight+m,n=-1*m,q=m),h=u[f].getBoundingClientRect(),(I=h.bottom)>=n&&(F=h.top)<=D&&(H=h.right)>=n*t&&(G=h.left)<=y&&(I||H||G||F)&&(d.loadHidden||S(u[f]))&&(l&&P<3&&!p&&(o<3||Q<4)||T(u[f],m))){if(aa(u[f]),k=!0,P>9)break}else!k&&l&&!j&&P<4&&Q<4&&o>2&&(g[0]||d.preloadAfterLoad)&&(g[0]||!p&&(I||H||G||F||"auto"!=u[f][i](d.sizesAttr)))&&(j=g[0]||u[f]);j&&!k&&aa(j)}},V=B(U),W=function(a){var b=a.target;if(b._lazyCache)return void delete b._lazyCache;R(a),s(b,d.loadedClass),t(b,d.loadingClass),u(b,Y),v(b,"lazyloaded")},X=A(W),Y=function(a){X({target:a.target})},Z=function(a,b){try{a.contentWindow.location.replace(b)}catch(c){a.src=b}},$=function(a){var b,c=a[i](d.srcsetAttr);(b=d.customMedia[a[i]("data-media")||a[i]("media")])&&a.setAttribute("media",b),c&&a.setAttribute("srcset",c)},_=A(function(a,b,c,e,f){var g,h,j,l,o,p;(o=v(a,"lazybeforeunveil",b)).defaultPrevented||(e&&(c?s(a,d.autosizesClass):a.setAttribute("sizes",e)),h=a[i](d.srcsetAttr),g=a[i](d.srcAttr),f&&(j=a.parentNode,l=j&&n.test(j.nodeName||"")),p=b.firesLoad||"src"in a&&(h||g||l),o={target:a},s(a,d.loadingClass),p&&(clearTimeout(m),m=k(R,2500),u(a,Y,!0)),l&&q.call(j.getElementsByTagName("source"),$),h?a.setAttribute("srcset",h):g&&!l&&(L.test(a.nodeName)?Z(a,g):a.src=g),f&&(h||l)&&w(a,{src:g})),a._lazyRace&&delete a._lazyRace,t(a,d.lazyClass),z(function(){var b=a.complete&&a.naturalWidth>1;p&&!b||(b&&s(a,"ls-is-cached"),W(o),a._lazyCache=!0,k(function(){"_lazyCache"in a&&delete a._lazyCache},9)),"lazy"==a.loading&&P--},!0)}),aa=function(a){if(!a._lazyRace){var b,c=K.test(a.nodeName),e=c&&(a[i](d.sizesAttr)||a[i]("sizes")),f="auto"==e;(!f&&l||!c||!a[i]("src")&&!a.srcset||a.complete||r(a,d.errorClass)||!r(a,d.lazyClass))&&(b=v(a,"lazyunveilread").detail,f&&E.updateElem(a,!0,a.offsetWidth),a._lazyRace=!0,P++,_(a,b,f,e,c))}},ba=C(function(){d.loadMode=3,V()}),ca=function(){3==d.loadMode&&(d.loadMode=2),ba()},da=function(){if(!l){if(f.now()-p<999)return void k(da,999);l=!0,d.loadMode=3,V(),j("scroll",ca,!0)}};return{_:function(){p=f.now(),c.elements=b.getElementsByClassName(d.lazyClass),g=b.getElementsByClassName(d.lazyClass+" "+d.preloadClass),j("scroll",V,!0),j("resize",V,!0),a.MutationObserver?new MutationObserver(V).observe(e,{childList:!0,subtree:!0,attributes:!0}):(e[h]("DOMNodeInserted",V,!0),e[h]("DOMAttrModified",V,!0),setInterval(V,999)),j("hashchange",V,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(a){b[h](a,V,!0)}),/d$|^c/.test(b.readyState)?da():(j("load",da),b[h]("DOMContentLoaded",V),k(da,2e4)),c.elements.length?(U(),z._lsFlush()):V()},checkElems:V,unveil:aa,_aLSL:ca}}(),E=function(){var a,c=A(function(a,b,c,d){var e,f,g;if(a._lazysizesWidth=d,d+="px",a.setAttribute("sizes",d),n.test(b.nodeName||""))for(e=b.getElementsByTagName("source"),f=0,g=e.length;f<g;f++)e[f].setAttribute("sizes",d);c.detail.dataAttr||w(a,c.detail)}),e=function(a,b,d){var e,f=a.parentNode;f&&(d=y(a,f,d),e=v(a,"lazybeforesizes",{width:d,dataAttr:!!b}),e.defaultPrevented||(d=e.detail.width)&&d!==a._lazysizesWidth&&c(a,f,e,d))},f=function(){var b,c=a.length;if(c)for(b=0;b<c;b++)e(a[b])},g=C(f);return{_:function(){a=b.getElementsByClassName(d.autosizesClass),j("resize",g)},checkElems:g,updateElem:e}}(),F=function(){!F.i&&b.getElementsByClassName&&(F.i=!0,E._(),D._())};return k(function(){d.init&&F()}),c={cfg:d,autoSizer:E,loader:D,init:F,uP:w,aC:s,rC:t,hC:r,fire:v,gW:y,rAF:z}});</script>

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alegreya:Alegreya:500,500i,700">
<style>
html,body,h1,h2,h3,h4,h5,h6,.h1,.h2,.h3,.h4,.h5,.h6{font-family:"Alegreya",Helvetica,Arial,sans-serif;text-rendering:optimizeLegibility}body{padding-bottom:0;font-size:1em;background:#f0f0f0;display:flex;min-height:100vh;flex-direction:column}header{padding:20px 0 20px 0}section{padding:2em 0 1.5em 0}section.nopadding{padding:1em 0 0 0}.screenshot{width:200px;height:370px;margin:10px 20px 10px 20px}.footer{padding-top:1rem;padding-bottom:1rem;background:#000}h1,h2,h3,h4,h5,h6,.h1,.h2,.h3,.h4,.h5,.h6{font-weight:700}a.footer-link,a.footer-link:hover{color:#fff}a.text-link{color:#80c080}a.greentext-link{color:#252}a.inherit-link,a.inherit-link:hover{color:inherit;text-decoration:none}.text-highlight{color:#80c080}.nopadding{padding:0 0}.appstore{width:160px;height:47px;margin:10px 0 10px 0}.hacker{width:500px}.logo{width:400px;height:66px;margin:0 0 20px 0}.hacker-small{width:200px;margin:20px 0 0 0}.logo-small{width:200px;margin:0 0 20px 0}img.alphabet-symbol{cursor:pointer;margin:5px 5px 5px 5px}.bg-navbar{background-color:#000}.bg-footer{background-color:#000}.section1{background-color:#002800;color:#FFF}.section2{background-color:#156315;color:#FFF}.section3{background-color:#f0f0f0;color:#000}.section4{background-color:#004000;color:#FFF}.darkbackground{background-color:#151515}.video{right:0;bottom:0;width:100%}.content{position:fixed;bottom:0;background:rgba(0,0,0,.5);color:#f1f1f1;width:100%;padding:20px}.body-content{padding-left:15px;padding-right:15px}.dl-horizontal dt{white-space:normal}input.max-width-480,select.max-width-480,textarea.max-width-480 .max-width-480{max-width:480px}p.help-block{color:red}span.spoiler{cursor:default;color:#CCC;background:#222;display:inline-block;text-decoration:none;padding-left:.5em;padding-right:.5em;cursor:pointer}.list-item{font-size:1.2em}ul.linklist{position:relative;list-style:none;margin-left:0;margin-top:0;margin-bottom:0;padding-left:1.5em}ul.linklist li:before{content:'\1F517';position:absolute;left:0}.badge{font-weight:400}.bookmark::before{display:block;content:"";margin-top:-80px;height:80px;visibility:hidden;pointer-events:none}.bookmark-small::before{display:block;content:"";margin-top:-50px;height:50px;visibility:hidden;pointer-events:none}.extra-top-margin{margin-top:1.2em}div.crypto-tool-letter{display:inline-block;margin:.1em .1em .1em .1em;line-height:1.1em;text-align:center;cursor:pointer}div.crypto-tool-letter.selected{background-color:#ff0}input.crypto-tool-letter-input{width:1.6em;text-align:center;padding-left:0;padding-right:0}.redbackground{background:#f77}a.text-decoration-none:hover{text-decoration:none}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media(min-width:768px)and(max-width:991px){.carousel-inner.active.col-md-4.carousel-item+.carousel-item+.carousel-item+.carousel-item{position:absolute;top:0;right:-33.3333%;z-index:-1;display:block;visibility:visible}}@media(min-width:576px)and(max-width:768px){.carousel-inner.active.col-sm-6.carousel-item+.carousel-item+.carousel-item{position:absolute;top:0;right:-50%;z-index:-1;display:block;visibility:visible}}@media(min-width:576px){.carousel-item{margin-right:0}.carousel-inner.active+.carousel-item{display:block}.carousel-inner.carousel-item.active:not(.carousel-item-right):not(.carousel-item-left),.carousel-inner.carousel-item.active:not(.carousel-item-right):not(.carousel-item-left)+.carousel-item{transition:none}.carousel-inner.carousel-item-next{position:relative;transform:translate3d(0,0,0)}.active.carousel-item-left+.carousel-item-next.carousel-item-left,.carousel-item-next.carousel-item-left+.carousel-item,.carousel-item-next.carousel-item-left+.carousel-item+.carousel-item{position:relative;transform:translate3d(-100%,0,0);visibility:visible}.carousel-inner.carousel-item-prev.carousel-item-right{position:absolute;top:0;left:0;z-index:-1;display:block;visibility:visible}.active.carousel-item-right+.carousel-item-prev.carousel-item-right,.carousel-item-prev.carousel-item-right+.carousel-item,.carousel-item-prev.carousel-item-right+.carousel-item+.carousel-item{position:relative;transform:translate3d(100%,0,0);visibility:visible;display:block;visibility:visible}}@media(min-width:768px){.carousel-inner.active+.carousel-item+.carousel-item{display:block}.carousel-inner.carousel-item.active:not(.carousel-item-right):not(.carousel-item-left)+.carousel-item+.carousel-item{transition:none}.carousel-inner.carousel-item-next{position:relative;transform:translate3d(0,0,0)}.carousel-item-next.carousel-item-left+.carousel-item+.carousel-item+.carousel-item{position:relative;transform:translate3d(-100%,0,0);visibility:visible}.carousel-item-prev.carousel-item-right+.carousel-item+.carousel-item+.carousel-item{position:relative;transform:translate3d(100%,0,0);visibility:visible;display:block;visibility:visible}.carousel{max-width:860px}.carousel-inner{max-width:740px}}.carousel-control-next,.carousel-control-prev{height:20%;top:40%}div.toolsSearch{position:relative;display:inline-block;width:300px}input.toolsSearch{width:100%;padding-left:.5em;padding-right:.5em}.toolsSearch-items{position:absolute;border:1px solid #d4d4d4;border-bottom:none;border-top:none;z-index:99;top:100%;left:0;right:0;text-align:left}.toolsSearch-items div{padding:10px;cursor:pointer;background-color:#fff;border-bottom:1px solid #d4d4d4}.toolsSearch-items div:hover{background-color:#e9e9e9}.toolsSearch-active{background-color:DodgerBlue!important;color:#fff}
</style>
<style type="text/css">
@media print
{
*:not(.printme) {display:none;}
}

html, body {
  width: 100%;
  height:100%;
}

body {
    background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
    background-size: 400% 400%;
    animation: gradient 15s ease infinite;
}

@keyframes gradient {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}
</style>		
</head>
<body>
<main style="flex: 1; margin: 30px;">
	<div class="jumbotron">
            <h2 id="pigpen-cipher">Pigpen cipher tool</h2>
            <div class="form-group">
                <label for="variant" class="h4">Variant</label>
                <select class="form-control" id="variant" style="max-width: 15em;" oninput="checkShiftMode();initAlphabet();translateText();">
                    <option value="0" selected="">Blevins Pigpen</option>
										<option value="1">Standard Pigpen (Masonic)</option>
                    <option value="2">Grid, X, Grid, X</option>
                    <option value="3">Alternate (Assassins Creed)</option>
                </select>
            </div>
						<div class="form-group">
                <label for="alphashift" class="h4" id="ashiftlabel">Starting Letter</label>
								<input class="form-control" id="ashift" style="max-width: 15em;" type="number" min="1" max="26" value="1" oninput="initAlphabet();translateText();">
							</div>
            <h4>Alphabet</h4>
            <div class="form-group">
							<div id="alphabet"></div>
							
							<h4>Punctuation</h4>
							<div id="punctuation">
								<figure class="figure ml-1"><img src="file:///C:/Users/Landon/Desktop/Pigpen-main/img/key-enter.png" class="figure-img border border-dark" onclick="addsymbol('\n');" style="cursor: pointer;" alt="Newline"><figcaption class="figure-caption text-center"></figcaption></figure>
								<figure class="figure ml-1"><img src="file:///C:/Users/Landon/Desktop/Pigpen-main/img/key-space.png" class="figure-img border border-dark" onclick="addsymbol(' ');" style="cursor: pointer;" alt="Space"><figcaption class="figure-caption text-center"></figcaption></figure>
								<figure class="figure ml-1"><img src="file:///C:/Users/Landon/Desktop/Pigpen-main/img/key-comma.png" class="figure-img border border-dark" onclick="addsymbol(',');" style="cursor: pointer;" alt="Comma"><figcaption class="figure-caption text-center"></figcaption></figure>
								<figure class="figure ml-1"><img src="file:///C:/Users/Landon/Desktop/Pigpen-main/img/key-period.png" class="figure-img border border-dark" onclick="addsymbol('.');" style="cursor: pointer;" alt="Period"><figcaption class="figure-caption text-center"></figcaption></figure>
								<figure class="figure ml-1"><img src="file:///C:/Users/Landon/Desktop/Pigpen-main/img/key-exclaimationmark.png" class="figure-img border border-dark" onclick="addsymbol('!');" style="cursor: pointer;" alt="Exclaimation Mark"><figcaption class="figure-caption text-center"></figcaption></figure>
								<figure class="figure ml-1"><img src="file:///C:/Users/Landon/Desktop/Pigpen-main/img/key-questionmark.png" class="figure-img border border-dark" onclick="addsymbol('?');" style="cursor: pointer;" alt="Question Mark"><figcaption class="figure-caption text-center"></figcaption></figure>
							</div>
							
              <label for="plaintext" class="h4">Plaintext</label>
              <textarea class="form-control text-monospace" rows="3" id="plaintext" oninput="translateText();" spellcheck="false" placeholder="Type message here, or click on the alphabet symbols above."></textarea>
              
							<label for="ciphertext" class="h4">Ciphertext</label>
              <div class="form-control h-auto printme" id="ciphertext" style="min-height: 4em; font: Arial; font-size:20pt; font-weight: bold;"></div>
              
							<button class="btn btn-success mt-1" onclick="cleartranslation();">Clear</button>
	  					<button class="btn btn-success mt-1" onclick="printDiv();">Print</button>
							
							<button class="btn btn-success mt-1" onclick="setCipher(prompt('input key:'));">Load Cipher</button>
	  					<button class="btn btn-success mt-1" onclick="alert(getCipher());">Export Cipher</button>
            </div>
        </div>
	</main>
	<script>
		function checkCipher(s1) {
			s1 = s1.trim();
			var r = new RegExp('^[0-9]+[-+]?[0-9]+$');
			return r.test(s1);
		}
	
		function setCipher(s1) {
			try {
				s1 = s1.trim();
				if (checkCipher(s1)) {
					var v = s1.substring(0,1);
					var a = s1.substring(1);
					
					var variant = document.getElementById("variant").value = v;
					
					checkShiftMode();
					getAlphabet();
					
					var ashift = document.getElementById("ashift").value = a;
				} else {
					alert("Invalid Cipher Code!");
				}
			} catch (ex) {
				alert(ex);
			}
			
			
		}
		
		function getCipher() {
			var variant = document.getElementById("variant").value.toString();
			var ashift = document.getElementById("ashift").value.toString();
		  return variant+ashift;
		}
	
		var s = window.location.href.substr(0,window.location.href.lastIndexOf('/'))+"/img/pigpen-";
    initAlphabet();

    function addsymbol(symbol) {
        document.getElementById("plaintext").value += symbol;
        translateText();
    }

    function translateText() {
        var src = document.getElementById("plaintext").value.toUpperCase();
        var alphabet = getAlphabet();
        var pigpenAlphabet = getPigpenAlphabet();
        var dst = '';
				
        for (var i = 0; i < src.length; i++) {
            var c = src[i];
            var p = alphabet.indexOf(c);
						
            if (p != -1) {
                dst += '<img src="'+ s + pigpenAlphabet[p] + '.png"/>';
            }
            else if (c == ' ')
                dst += ' &nbsp;&nbsp;&nbsp; ';
            else if (c == '\n')
                dst += '<br/>';
						else if (c == '.')
                dst += '.';
						else if (c == ',')
                dst += ',';
						else if (c == '?')
                dst += '?';
						else if (c == '!')
                dst += '!';
						else if (c == '-')
                dst += '-';
						else if (c == '+')
                dst += '+';
						else if (c == ':')
                dst += ':';
						else if (c == ';')
                dst += ';';
						else if (c == '/')
                dst += '/';
						else if (c == '=')
                dst += '=';
						else if (c == '\'')
                dst += '\'';
						else if (c == '(')
                dst += '(';
						else if (c == ')')
                dst += ')';
						else if (c == '#')
                dst += '#';
						else if (c == '%')
                dst += '%';
						else if (c == '$')
                dst += '$';
						else if (c == '@')
                dst += '@';
						else if (c == '&')
                dst += '&';
						else if (c == '*')
                dst += '*';
						else if (c == '0')
                dst += '0';
						else if (c == '1')
                dst += '1';
						else if (c == '2')
                dst += '2';
						else if (c == '3')
                dst += '3';
						else if (c == '4')
								dst += '4';
						else if (c == '5')
                dst += '5';
						else if (c == '6')
                dst += '6';
						else if (c == '7')
                dst += '7';
						else if (c == '8')
                dst += '8';
						else if (c == '9')
                dst += '9';
        }

        document.getElementById("ciphertext").innerHTML = dst;
    }

    function cleartranslation() {
        document.getElementById("plaintext").value = '';
        document.getElementById("ciphertext").innerHTML = '';
    }

    function getPigpenAlphabet() {
        var v = document.getElementById("variant").value;
        switch (v) {
						case '0':
								return ['0-1', '1-1', '0-2', '1-2', '0-3', '1-3', '0-4', '1-4', '0-5', '1-5', '0-6', '1-6', '0-7', '1-7', '0-8', '1-8', '0-9', '1-9', '0-w', '1-w', '0-n', '1-n', '0-e', '1-e', '0-s', '1-s'];
            case '1':
                return ['0-1', '0-2', '0-3', '0-4', '0-5', '0-6', '0-7', '0-8', '0-9', '1-1', '1-2', '1-3', '1-4', '1-5', '1-6', '1-7', '1-8', '1-9', '0-n', '0-w', '0-e', '0-s', '1-n', '1-w', '1-e', '1-s'];
            case '2':
                return ['0-1', '0-2', '0-3', '0-4', '0-5', '0-6', '0-7', '0-8', '0-9', '0-n', '0-w', '0-e', '0-s', '1-1', '1-2', '1-3', '1-4', '1-5', '1-6', '1-7', '1-8', '1-9', '1-n', '1-w', '1-e', '1-s'];
            case '3':
                return ['0-1', '1-1', '0-2', '1-2', '0-3', '1-3', '0-4', '1-4', '0-5', '1-5', '0-6', '1-6', '0-7', '1-7', '0-8', '1-8', '0-9', '1-9', '0-n', '1-n', '0-w', '1-w', '0-e', '1-e', '0-s', '1-s'];
            default:
                return ['0-1', '1-1', '0-2', '1-2', '0-3', '1-3', '0-4', '1-4', '0-5', '1-5', '0-6', '1-6', '0-7', '1-7', '0-8', '1-8', '0-9', '1-9', '0-w', '1-w', '0-n', '1-n', '0-e', '1-e', '0-s', '1-s'];
        }
    }

		function getAlphabet() {
				var s = fixShiftValue();
				var a = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'; 
				var b = a.substring(s)+a.substring(0,s);
        return b;
    }
		
		function fixShiftValue() {
				var n = document.getElementById("ashift").value;
				var m = document.getElementById("variant").value;
				
				if (m == 0) { //blevins key means we do base letter not alpha shift
					n--;
					if (n > 26) {
						n = n - 26;
					} else if (n < 0) {
						n = 26 + (n*1);
					}
				} else {
					if (n > 26) {
						n = n - 26;
					} else if (n < 0) {
						n = 26 + (n*1);
					}
				}
				
				return n;
		}

    function getAlphabet_Old() {
        return 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
    }

    function initAlphabet() {
        var alphabet = getAlphabet();
        var pigpenAlphabet = getPigpenAlphabet();

        var contents = '';
        for (var i = 0; i < alphabet.length; i++) {
            contents += '<figure class="figure ml-1"><img src="' + s + pigpenAlphabet[i] + '.png" class="figure-img border border-dark" onclick="' + "addsymbol('" + alphabet[i] + "');" + '" style="cursor: pointer;" alt="Pigpen ' + alphabet[i] + '"/><figcaption class="figure-caption text-center">' + alphabet[i] + '</figcaption></figure>';
        }

        document.getElementById("alphabet").innerHTML = contents;
    }
		
		function checkShiftMode() {
				var e = document.getElementById("ashift");
				var l = document.getElementById("ashiftlabel");
				var m = document.getElementById("variant").value;
				if (m == 0) { //blevins key means we do base letter not alpha shift
						l.textContent = "Starting letter";
						e.value = 1;
						e.min = 1;
						e.max = 26;
				} else {
						l.textContent = "Alpha Shift";
						e.value = 0;
						e.min = -25;
						e.max = 25;
				}
		}
</script>
<script>
        function printDiv() {
            var divContents = document.getElementById("ciphertext").innerHTML;
            var a = window.open('', '', 'height=1000, width=1000');
            a.document.write(atob("PGh0bWw+PGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9QWxlZ3JleWE6QWxlZ3JleWE6NTAwLDUwMGksNzAwIj48Ym9keSBzdHlsZT0iZm9udDogQXJpYWw7IGZvbnQtc2l6ZToyMHB0OyBmb250LXdlaWdodDogYm9sZDsiPg=="));
            a.document.write(divContents);
            a.document.write('</body></html>');
            a.document.close();
            setTimeout(() => {  a.print(); }, 1000);
        }
    </script>
</body>
</html>